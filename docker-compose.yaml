x-common: &common
  env_file: .env
  tty: true
  stdin_open: true

services:
  frontend:
    <<: *common
    build:
      context: .
      dockerfile: ./ci/dev/frontend/Dockerfile
    command: bun --bun dev
    volumes:
    - ./frontend:/app
    - ./frontend/node_modules:/app/node_modules
    - bun_cache:/root/.bun/install/cache
    ports:
    - "5173:5173"

volumes:
  bun_cache:
    driver: local